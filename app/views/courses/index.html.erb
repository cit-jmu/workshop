<div class="page-header">
  <h1>Browse Workshops</h1>
</div>
<div class="actions">
  <% if can? :create, Course %>
    <%= link_to 'Add new course', new_course_path, class: 'btn btn-default' %>
  <% end %>
</div>

<% if @courses.empty? %>
<p>
  There are no courses available at this time.
  <% if can? :create, Course %>
    Consider <%= link_to "adding some courses", new_course_path %>.
  <% end %>
<p>
<% else %>
  <%= render 'shared/icon_legend' %>
  <% @courses.each do |course| %>
  <div class="course-row">
    <h3 class="title <%= classes_for_course(course) %>">
      <%= render partial: 'icons', locals: { course: course } %>
      <%= link_to course.title, course %>
    </h3>
    <% if course.summary %>
      <div class="summary">
        <%= course.summary %>
      </div>
    <% end %>
    <div class="details">
      <ul class="list-inline">
        <% if course.duration %>
        <li>
          <strong>Duration:</strong> <%= course.duration %> minutes
        </li>
        <% end %>
        <% if course.multi_session? %>
        <li>
          <strong>Multiple Sessions</strong>
        </li>
        <% end %>
        <% if course.instructors.any? %>
        <li>
          <strong>Instructed by:</strong>
          <%= course.instructors.to_sentence %>
        </li>
        <% end %>
      </ul>
    </div>
    <%= render :partial => 'admin_actions', :locals => { :course => course } %>
  </div>
  <% end %>
<% end %>
